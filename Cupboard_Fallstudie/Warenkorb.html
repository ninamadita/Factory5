<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>Warenkorb Cupboard Limited</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="Französisch.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 2.26.5, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i">
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "",
		"url": "index.html",
		"logo": "images/CupboardLogo.png",
		"sameAs": [
				"https://www.instagram.com/cpbrd.me/"
		]
}</script>
    <meta property="og:title" content="Warenkorb">
    <meta property="og:type" content="website">
    <meta name="theme-color" content="#478ac9">
    <link rel="canonical" href="index.html">
    <meta property="og:url" content="index.html">
    <style> 
    #tablecss {
        bottom: 30em;
        left: 30em;
        width: 20em;
        margin-left: 20px;
        margin-bottom: 20px;
      }
    #tabspalt {
      font-family:'Courier New', Courier, monospace;
      color:#012840;
    }
    </style>

    <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"
      ></script>

    <script src="storage.js"></script>
    <script>
    var liste = storage.getAll();
    </script>

  </head>
  <body class="u-body"><header class="u-clearfix u-grey-5 u-header u-sticky u-header" id="sec-94be"><div class="u-clearfix u-sheet u-sheet-1">
        <a href="Home.html" class="u-image u-logo u-image-1" title="Home">
          <img src="images/CupboardLogo.png" class="u-logo-image u-logo-image-1" data-image-width="226.2">
        </a>
        <nav class="u-dropdown-icon u-menu u-menu-dropdown u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0; font-weight: 700; text-transform: uppercase;">
            <a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="#">
              <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;"><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</symbol>
</defs></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-spacing-2 u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="Home.html" style="padding: 10px 20px;">Home</a><div class="u-nav-popup"><ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link u-white" href="Standardkatalog.html">Standardkatalog</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-white" href="CPBRD.html">CPBRD</a>
</li></ul>
</div>

</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="Kontakt.html" style="padding: 10px 20px;">Kontakt</a>
</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="Rechtliches.html" style="padding: 10px 20px;">Rechtliches</a>
</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="Warenkorb.html" style="padding: 10px 20px;">Warenkorb</a>
</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-light-1 u-button-style u-nav-link u-text-active-grey-90 u-text-grey-90 u-text-hover-grey-90" href="Sprache.html" style="padding: 10px 20px;">Sprache</a><div class="u-nav-popup"><ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-3"><li class="u-nav-item"><a class="u-button-style u-nav-link u-white" href="Deutsch.html">Deutsch</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-white" href="Italienisch.html">Italienisch</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-white">Französisch</a>
</li></ul>
</div>
</li></ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-menu-close"></div>
              <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-4"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Home.html" style="padding: 10px 20px;">Home</a><div class="u-nav-popup"><ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-5"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Standardkatalog.html">Standardkatalog</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="CPBRD.html">CPBRD</a>
</li></ul>
</div>


</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Kontakt.html" style="padding: 10px 20px;">Kontakt</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Rechtliches.html" style="padding: 10px 20px;">Rechtliches</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Warenkorb.html" style="padding: 10px 20px;">Warenkorb</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Sprache.html" style="padding: 10px 20px;">Sprache</a><div class="u-nav-popup"><ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-6"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Deutsch.html">Deutsch</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Italienisch.html">Italienisch</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link">Französisch</a>
</li></ul>
</div>
</li></ul>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></header>

<!-- Ü B E R S C H R I F T   U N D  U N T E R - Ü B E R S C H R I F T -->      
<section class="u-align-center u-clearfix u-section-1" id="carousel_2fb2">
  <div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xl u-sheet-1">
    <p></p>
    <h1 class="u-text u-text-1"><b>Warenkorb</b></h1>
    <h3 style="background-color: #012840; color: #d3d3d3;">Ihre Artikel</h3>
  </div>


<!-- A J A X   F Ü R   S C H R A N K I N F O R M A T I O N E N -->

<script type = "application/javascript">
  const index = liste.SchrankID ;
   $.ajax({ 
  type : "GET",
  url : `https://cupboard.eu-gb.cf.appdomain.cloud/catalogue/products/${index}`,
  beforeSend: function(xhr){xhr.setRequestHeader('x-api-key', 'IZi9nx8rR5VUhK0urLyBAtHzOZPwng2i');},
  success : function(result) { 

  console.log("Response [JSON]",result);
  
    var id = result.id;
    var name = result.name;
    var price = result.price;
    var priceStarting = result.priceStarting;
    var bild = result.imageUrl;
    var customizable = result.customizable;
    storage.set("Basispreis", price);
    storage.set("Schrankname", name);

  }, 
  error : function(result) { 
  } 

  }); 

</script>


<!-- A J A X   F Ü R   S E L E C T A B L E S -->
<script type = "application/javascript">

  const index2 = liste.SchrankID;
  var warenkorb_data = liste.Warenkorb.split(",");

  $.ajax({ 
  type : "GET",
  url : `https://cupboard.eu-gb.cf.appdomain.cloud/catalogue/products/${index2}/selectables`, 
  beforeSend: function(xhr){xhr.setRequestHeader('x-api-key', 'IZi9nx8rR5VUhK0urLyBAtHzOZPwng2i');},
  success : function(result) { 

  $.each( result, function( key, value ) {

  var id;
  var name;
  var bild;

  $.each( value, function( key, value ) {

  if (key == "name") name = value;
  if (key == "id") id = value;
  if (key == "imageUrl") bild = value;
  if (key == "price") price = value;
  if (key == "selectableCategory") category = value;
  });
  if (liste.MaterialID == id){
    storage.set("AufpreisMaterial", price);
    storage.set("SchrankMaterialName", name);
  } else if (warenkorb_data[0] == id){
    var extra1_preis = parseInt(warenkorb_data[1])* parseInt(price);
    storage.set("Extra1", (warenkorb_data[1]+" mal: " + " "+ name +" - Gesamtpreis: " + extra1_preis));
    storage.set("Aufpreis1", parseInt(extra1_preis));
    storage.set("Extra1_ID", id);
    storage.set("Extra1_Anzahl", warenkorb_data[1]);
    storage.set("Extras_Anzahl","1");
  } else if (warenkorb_data[2] == id){
    var extra2_preis = parseInt(warenkorb_data[3])* parseInt(price);
    storage.set("Extra2", (warenkorb_data[3]+" mal: "  + " "+  name  +" - Gesamtpreis: " + extra2_preis));
    storage.set("Aufpreis2", (parseInt(liste.Aufpreis1)+ parseInt(extra2_preis)));
    storage.set("Extra2_ID", id);
    storage.set("Extra2_Anzahl", warenkorb_data[3]);
    storage.set("Extras_Anzahl","2");
  } else if (warenkorb_data[4] == id){
    var extra3_preis = parseInt(warenkorb_data[5])* parseInt(price);
    storage.set("Extra3", (warenkorb_data[5]+" mal: "  + " "+  name +" - Gesamtpreis: " + extra3_preis));
    storage.set("Aufpreis3", (parseInt(liste.Aufpreis2)+ parseInt(extra3_preis)));
    storage.set("Extra3_ID", id);
    storage.set("Extra3_Anzahl", warenkorb_data[5]);
    storage.set("Extras_Anzahl","3");
  } else if (warenkorb_data[6] == id){
    var extra4_preis = parseInt(warenkorb_data[7])* parseInt(price);
    storage.set("Extra4", (warenkorb_data[7]+" mal: "  + " "+  name  +" - Gesamtpreis: " + extra4_preis));
    storage.set("Aufpreis4", (parseInt(liste.Aufpreis3)+ parseInt(extra4_preis)));
    storage.set("Extra4_ID", id);
    storage.set("Extra4_Anzahl", warenkorb_data[7]);
    storage.set("Extras_Anzahl","4");
  } else if (warenkorb_data[8] == id){
    var extra5_preis = parseInt(warenkorb_data[9])* parseInt(price);
    storage.set("Extra5", (warenkorb_data[9]+" mal: "  + " "+  name  +" - Gesamtpreis: " + extra5_preis));
    storage.set("Aufpreis5", (parseInt(liste.Aufpreis4)+ parseInt(extra5_preis)));
    storage.set("Extra5_ID", id);
    storage.set("Extra5_Anzahl", warenkorb_data[9]);
    storage.set("Extras_Anzahl","5");
  } else if (warenkorb_data[10] == id){
    var extra6_preis = parseInt(warenkorb_data[11])* parseInt(price);
    storage.set("Extra6", (warenkorb_data[11]+" mal: "  + " "+  name  +" - Gesamtpreis: " + extra6_preis));
    storage.set("Aufpreis6", (parseInt(liste.Aufpreis5)+ parseInt(extra6_preis)));
    storage.set("Extra6_ID", id);
    storage.set("Extra6_Anzahl", warenkorb_data[11]);
    storage.set("Extras_Anzahl","6");
  }
  });
  }, 
  error : function(result) { 
  } 
  }); 
</script>

<script language="JavaScript">

  //--- T A B E L L E   F Ü R   A R T I K E L ---

  function createTableArtikel(){
    
    if (liste.Extras_Anzahl == 1){
      var bezeichnungen = ["Schrankname", "Material", "Aufpreis Material", "1. Extra",  "Breite", "Höhe", "Tiefe", "Basispreis", "Gesamtpreis"] // das, was man als Text sieht in der linken Spalte
      var artikel = [liste.Schrankname, liste.SchrankMaterialName, liste.AufpreisMaterial, liste.Extra1, liste.Breite, liste.Höhe, liste.Tiefe, liste.Basispreis, liste.Gesamtpreis];
      var einheiten = ["", "", " €", " €",  " cm", " cm", " cm", " €", " €"]

      document.write("<center><table border='0' width='60%' id = 'TabellenID' >");

      for (i=0; i<artikel.length; i++){
        document.write("<tr>"); 
        document.write("<td id='tabspalt'>" + bezeichnungen[i] + "</td>");
        document.write("<td>" + artikel[i] + einheiten[i] + "</td>");
        document.write("</tr>");
      }
      document.write("</table></center>");

  } else if (liste.Extras_Anzahl == 2){
      var bezeichnungen = ["Schrankname", "Material", "Aufpreis Material", "1. Extra", "2. Extra", "Breite", "Höhe", "Tiefe", "Basispreis", "Gesamtpreis"] // das, was man als Text sieht in der linken Spalte
      var artikel = [liste.Schrankname, liste.SchrankMaterialName, liste.AufpreisMaterial, liste.Extra1, liste.Extra2, liste.Breite, liste.Höhe, liste.Tiefe, liste.Basispreis, liste.Gesamtpreis];
      var einheiten = ["", "", " €", " €", " €", " cm", " cm", " cm", " €", " €"]

      document.write("<center><table border='0' width='60%' id = 'TabellenID'>");

      for (i=0; i<artikel.length; i++){
        document.write("<tr>"); 
        document.write("<td id='tabspalt'>" + bezeichnungen[i] + "</td>");
        document.write("<td>" + artikel[i] + einheiten[i] + "</td>");
        document.write("</tr>");
      }
      document.write("</table></center>");

  } else if (liste.Extras_Anzahl == 3){
      var bezeichnungen = ["Schrankname", "Material", "Aufpreis Material", "1. Extra", "2. Extra", "3. Extra", "Breite", "Höhe", "Tiefe", "Basispreis", "Gesamtpreis"] // das, was man als Text sieht in der linken Spalte
      var artikel = [liste.Schrankname, liste.SchrankMaterialName, liste.AufpreisMaterial, liste.Extra1, liste.Extra2, liste.Extra3, liste.Breite, liste.Höhe, liste.Tiefe, liste.Basispreis, liste.Gesamtpreis];
      var einheiten = ["", "", " €", " €", " €",  " €", " cm", " cm", " cm", " €", " €"]

      document.write("<center><table border='0' width='60%' id = 'TabellenID'>");

      for (i=0; i<artikel.length; i++){
        document.write("<tr>"); 
        document.write("<td id='tabspalt'>" + bezeichnungen[i] + "</td>");
        document.write("<td>" + artikel[i] + einheiten[i] + "</td>");
        document.write("</tr>");
      }
      document.write("</table></center>");

  } else if (liste.Extras_Anzahl == 4){
      var bezeichnungen = ["Schrankname", "Material", "Aufpreis Material", "1. Extra", "2. Extra", "3. Extra", "4. Extra", "Breite", "Höhe", "Tiefe", "Basispreis", "Gesamtpreis"] // das, was man als Text sieht in der linken Spalte
      var artikel = [liste.Schrankname, liste.SchrankMaterialName, liste.AufpreisMaterial, liste.Extra1, liste.Extra2, liste.Extra3, liste.Extra4, liste.Breite, liste.Höhe, liste.Tiefe, liste.Basispreis, liste.Gesamtpreis];
      var einheiten = ["", "", " €", " €", " €", " €", " €", " cm", " cm", " cm", " €", " €"]

      document.write("<center><table border='0' width='60%' id = 'TabellenID'>");

      for (i=0; i<artikel.length; i++){
        document.write("<tr>"); 
        document.write("<td id='tabspalt'>" + bezeichnungen[i] + "</td>");
        document.write("<td>" + artikel[i] + einheiten[i] + "</td>");
        document.write("</tr>");
      }
      document.write("</table></center>");

  } else if (liste.Extras_Anzahl == 5){
      var bezeichnungen = ["Schrankname", "Material", "Aufpreis Material", "1. Extra", "2. Extra", "3. Extra", "4. Extra", "5. Extra", "Breite", "Höhe", "Tiefe", "Basispreis", "Gesamtpreis"] // das, was man als Text sieht in der linken Spalte
      var artikel = [liste.Schrankname, liste.SchrankMaterialName, liste.AufpreisMaterial, liste.Extra1, liste.Extra2, liste.Extra3, liste.Extra4, liste.Extra5, liste.Breite, liste.Höhe, liste.Tiefe, liste.Basispreis, liste.Gesamtpreis];
      var einheiten = ["", "", " €", " €", " €", " €", " €", " €", " cm", " cm", " cm", " €", " €"]

      document.write("<center><table border='0' width='60%' id = 'TabellenID'>");

      for (i=0; i<artikel.length; i++){
        document.write("<tr>"); 
        document.write("<td id='tabspalt'>" + bezeichnungen[i] + "</td>");
        document.write("<td>" + artikel[i] + einheiten[i] + "</td>");
        document.write("</tr>");
      }
      document.write("</table></center>");

  } else if (liste.Extras_Anzahl == 6){
      var bezeichnungen = ["Schrankname", "Material", "Aufpreis Material", "1. Extra", "2. Extra", "3. Extra", "4. Extra", "5. Extra", "6. Extra", "Breite", "Höhe", "Tiefe", "Basispreis", "Gesamtpreis"] // das, was man als Text sieht in der linken Spalte
      var artikel = [liste.Schrankname, liste.SchrankMaterialName, liste.AufpreisMaterial, liste.Extra1, liste.Extra2, liste.Extra3, liste.Extra4, liste.Extra5, liste.Extra6, liste.Breite, liste.Höhe, liste.Tiefe, liste.Basispreis, liste.Gesamtpreis];
      var einheiten = ["", "", " €", " €", " €", " €", " €", " €", " €", " cm", " cm", " cm", " €", " €"]

      document.write("<center><table border='0' width='60%' id = 'TabellenID'>");

      for (i=0; i<artikel.length; i++){
        document.write("<tr>"); 
        document.write("<td id='tabspalt'>" + bezeichnungen[i] + "</td>");
        document.write("<td>" + artikel[i] + einheiten[i] + "</td>");
        document.write("</tr>");
      }
      document.write("</table></center>");

  }

}


  // Aufruf der Funktion
  createTableArtikel();

</script>

<p></p>

<script type="text/javascript">

  console.log(liste);
  var gesamtpreis;

  // warenkorb_data.length Abfrage
  if (warenkorb_data.length == 2){
    gesamtpreis = parseInt(liste.Basispreis) + parseInt(liste.AufpreisMaterial) + parseInt(liste.Aufpreis1);
  } else if (warenkorb_data.length == 4){
    gesamtpreis = parseInt(liste.Basispreis) + parseInt(liste.AufpreisMaterial) + parseInt(liste.Aufpreis2);
  } else if (warenkorb_data.length == 6){
    gesamtpreis = parseInt(liste.Basispreis) + parseInt(liste.AufpreisMaterial) + parseInt(liste.Aufpreis3);
  } else if (warenkorb_data.length == 8){
    gesamtpreis = parseInt(liste.Basispreis) + parseInt(liste.AufpreisMaterial) + parseInt(liste.Aufpreis4);
  }
  storage.set("Gesamtpreis", gesamtpreis);
</script>


<script>
  //--- W A R E N K O R B   A K T U A L I S I E R E N ---
  function aktualisiereWarenkorb(){
   location.reload();

  }


  //--- W A R E N K O R B   L E E R E N ---
  function clearCart(){

    console.log(liste);
    liste = []; // Liste leeren
    console.log(liste);

    storage.set("Basispreis", " ");
    storage.set("SchrankMaterialName", " ");
    storage.set("Gesamtpreis", " ");
    storage.set("Breite", " ");
    storage.set("Höhe", " ");    
    storage.set("Tiefe", " ");
    storage.set("AufpreisMaterial", " ");
    storage.set("Schrankname", " ");
    storage.set("Extra1", " ");
    storage.set("Extra2", " ");
    storage.set("Extra3", " ");
    storage.set("Extra4", " ");
    storage.set("Extra5", " ");
    storage.set("Extra6", " ");

    location.reload();


    //$('#TabellenID').hide();



     // neue liste Variablen in createTable() laden
    // PROBLEM: ändert die Einträge, aber öffnet es und zeigt dabei nicht anderes
    //location.reload();
  }

  //location.reload();
 // Storage.clear; // Warenkorb leeren vor neuer eingabe?

</script>

<!-- B U T T O N S   F Ü R   W A R E N K O R B   A R T I K E L -->
<div id = "buttons">
    <button id="tablecss" onclick="aktualisiereWarenkorb()">Warenkorb aktualisieren</button>
    <button id="tablecss" onclick="clearCart()">Warenkorb leeren</button>
</div>

 <!-- Unter-Überschrift -->
<section class="u-align-center u-clearfix u-section-1" id="carousel_2fb2">
  <div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xl u-sheet-1">
    <h3 style="background-color: #012840; color: #d3d3d3;">Ihre Daten</h3>
  </div>
</section>

<script>
  //--- T A B E L L E    F Ü R   P E R S Ö N L I C H E   D A T E N ---
  function createTableData(){
    var bezeichnung = ["Vorname", "Nachname", "Telefonnummer", "E-Mail Adresse", "Straße, Hausnummer", "Postleitzahl", "Stadt"]
    var input_id = ["kunde_vorname", "kunde_nachname", "kunde_telefon", "kunde_email", "kunde_adresse", "kunde_plz", "kunde_stadt"]

    // ist genau das gleiche wie vorher mit dem document.write, nur platzsparender und zeiteffizienter ;)
    document.write("<center><table border='0' width='60%'>");

    for (i=0; i<bezeichnung.length; i++){
      document.write("<tr>"); 
      document.write("<td id='tabspalt'>" + bezeichnung[i] + "</td>");
      document.write("<td> <input type='text' id=" + input_id[i] + "></td>"); // REQUIRED klappt nicht (to do)
      document.write("</tr>");
    }
    document.write("<tr>");
    document.write("<td id='tabspalt'>Land</td>");
    document.write("<td> <select name='länder' id='kunde_land'> <option value='deutschland'>Deutschland</option> <option value='italien'>Italien</option> <option value='frankreich'>Frankreich</option> <option value='Spanien'>Spanien</option> <option value='england'>England</option> </td>"); // REQUIRED klappt nicht (to do)
    document.write("</tr>");
    document.write("</table></center>");
    document.write("<p id='submitbutton'><button type='submit' id='tablecss' onclick='commitOrder()''>Bestellung abschließen</button></p>"); // Button Bestellung abschließen

  }

  //Aufrufen der Funktion
  createTableData();

  // Steuer-Prozentsätze und Währungen in den unterschiedlichen Ländern:
  var mehrwertsteuer = {"deutschland":19, "italien":22, "frankreich":20, "spanien":21, "england":20};
  var währungen = {"deutschland":"Euro", "italien":"Euro", "frankreich":"Euro", "spanien":"Euro", "england":"Pfund"};

  //--- B E S T E L L U N G   A B S C H L I E ß E N ---
  function commitOrder(){

    //--- Variablen für API Order ---

    var orderDate = Date();
    var kunde_land = $("select[id='kunde_land']").val();

    // customer:
    var kunde_vorname = $("input[id='kunde_vorname']").val(); //middlename?
    var kunde_nachname = $("input[id='kunde_nachname']").val();
    var kunde_adresse = $("input[id='kunde_adresse']").val();
    var kunde_plz = $("input[id='kunde_plz']").val();
    var kunde_stadt = $("input[id='kunde_stadt']").val();
    var kunde_telefon = $("input[id='kunde_telefon']").val();
    var kunde_email = $("input[id='kunde_email']").val();

    // price:
    var netto_preis = liste.Gesamtpreis;
    var steuern_prozent;

      // prozentuale Steuern pro Land zugewiesen (ging nicht über mehrwertsteuer.kunde_land)
      if (kunde_land == "deutschland"){
        steuern_prozent = mehrwertsteuer.deutschland;
      }
      else if (kunde_land == "italien"){
        steuern_prozent = mehrwertsteuer.italien;
      }
      else if (kunde_land == "spanien"){
        steuern_prozent = mehrwertsteuer.spanien;
      }
      else if (kunde_land == "frankreich"){
        steuern_prozent = mehrwertsteuer.frankreich;
      }
      else if (kunde_land == "england"){
        steuern_prozent = mehrwertsteuer.england;
      }

    var steuern_höhe = netto_preis * (steuern_prozent/100);
    var brutto_preis = liste.Gesamtpreis + steuern_höhe;
    var währung;

      // währung pro Land zugewiesen (ging nicht über währung.kunde_land)
      if (kunde_land == "deutschland"){
        währung = währungen.deutschland;
      }
      else if (kunde_land == "italien"){
        währung = währungen.italien;
      }
      else if (kunde_land == "spanien"){
        währung = währungen.spanien;
      }
      else if (kunde_land == "frankreich"){
        währung = währungen.frankreich;
      }
      else if (kunde_land == "england"){
        währung = währungen.england;
      }

    console.log("Bestelldatum: " + orderDate);
    console.log("Vorname: " + kunde_vorname);
    console.log("Nachname: " + kunde_nachname);
    console.log("Adresse: " + kunde_adresse);
    console.log("PLZ: " + kunde_plz);
    console.log("Stadt: " + kunde_stadt);
    console.log("Telefon: " + kunde_telefon);
    console.log("E-Mail: " + kunde_email);
    console.log("Land: " + kunde_land);
    console.log("Nettopreis: " + netto_preis);
    console.log("Steuern in Prozent: " + steuern_prozent);
    console.log("Höhe der Steuern: " + steuern_höhe);
    console.log("Bruttopreis: " + brutto_preis);
    console.log("Währung: " + währung);

    // products:
    var product_id = []; // to do
    var product_quantity = []; // to do
    var customized = true;
    var breite = liste.Breite;
    var höhe = liste.Höhe;
    var tiefe = liste.Tiefe;

    // AJAX Post Request Order
    $.ajax({ 
      type : "POST", 
      url : "https://cupboard.eu-gb.cf.appdomain.cloud/order",
	  data: JSON.stringify({"orderDate":"2020-10-29T15:22:31.017Z","country":kunde_land,"customer":{"firstname":kunde_vorname,"lastname":kunde_nachname,"address":kunde_adresse,"postalCode":kunde_plz,"city":kunde_stadt,"country":kunde_land,"phone":kunde_telefon,"email":kunde_email},"price":{"currency":währung,"netPrice":netto_preis,"taxPercentage":steuern_prozent,"taxAmmount":steuern_höhe,"grossPrice":brutto_preis},"products":[{"id":liste.SchrankID,"quantity":1,"customized":true,"width":liste.Breite,"height":liste.Höhe,"depth":liste.Tiefe}, {"id":liste.MaterialID, "quantity":1,"customized":false}, {"id": liste.Extra1_ID ,"quantity":liste.Extra1_Anzahl}, {"id": liste.Extra2_ID ,"quantity":liste.Extra2_Anzahl}, {"id": liste.Extra3_ID ,"quantity":liste.Extra3_Anzahl}, {"id": liste.Extra4_ID ,"quantity":liste.Extra4_Anzahl}, {"id": liste.Extra5_ID ,"quantity":liste.Extra5_Anzahl}, {"id": liste.Extra6_ID ,"quantity":liste.Extra6_Anzahl}]}),
	  contentType: "application/json", 
      beforeSend: function(xhr){xhr.setRequestHeader('x-api-key', 'IZi9nx8rR5VUhK0urLyBAtHzOZPwng2i');},
      success : function(result) { 
       console.log(result);
       $.each( result, function( key, value ) {
      
        var id;

      
          if (key == "orderId") id = value;
          $('#submitbutton').html('<b>Ihre Bestellung wurde erfolgreich ausgeführt. Ihre Bestellungs ID lautet: ' + id + '. Sie erhalten in Kürze eine E-Mail mit den Bestelldetails.</b>');

          //alert( key + ": " + value );
          
        });
      }, 
      error : function(result) { 
      } 
      }); 

  }
  
</script>

<!-- Button hier rausgenommen, damit er oben direkt bei der Tabelle mit eingebaut werden kann
<div> <button id="tablecss" onclick="commitOrder()">Bestellung abschließen</button> </div> -->


    <footer class="u-clearfix u-custom-color-1 u-footer" id="sec-3900"><div class="u-clearfix u-sheet u-sheet-1">
        <div class="u-align-left u-social-icons u-spacing-10 u-social-icons-1">
          <a class="u-social-url" target="_blank" href=""><span class="u-icon u-icon-circle u-social-facebook u-social-type-logo u-icon-1"><svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-0402"></use></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" class="u-svg-content" viewBox="0 0 112 112" x="0px" y="0px" id="svg-0402"><path d="M75.5,28.8H65.4c-1.5,0-4,0.9-4,4.3v9.4h13.9l-1.5,15.8H61.4v45.1H42.8V58.3h-8.8V42.4h8.8V32.2 c0-7.4,3.4-18.8,18.8-18.8h13.8v15.4H75.5z"></path></svg></span>
          </a>
          <a class="u-social-url" target="_blank" href=""><span class="u-icon u-icon-circle u-social-twitter u-social-type-logo u-icon-2"><svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-55ab"></use></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" class="u-svg-content" viewBox="0 0 112 112" x="0px" y="0px" id="svg-55ab"><path d="M92.2,38.2c0,0.8,0,1.6,0,2.3c0,24.3-18.6,52.4-52.6,52.4c-10.6,0.1-20.2-2.9-28.5-8.2 c1.4,0.2,2.9,0.2,4.4,0.2c8.7,0,16.7-2.9,23-7.9c-8.1-0.2-14.9-5.5-17.3-12.8c1.1,0.2,2.4,0.2,3.4,0.2c1.6,0,3.3-0.2,4.8-0.7 c-8.4-1.6-14.9-9.2-14.9-18c0-0.2,0-0.2,0-0.2c2.5,1.4,5.4,2.2,8.4,2.3c-5-3.3-8.3-8.9-8.3-15.4c0-3.4,1-6.5,2.5-9.2 c9.1,11.1,22.7,18.5,38,19.2c-0.2-1.4-0.4-2.8-0.4-4.3c0.1-10,8.3-18.2,18.5-18.2c5.4,0,10.1,2.2,13.5,5.7c4.3-0.8,8.1-2.3,11.7-4.5 c-1.4,4.3-4.3,7.9-8.1,10.1c3.7-0.4,7.3-1.4,10.6-2.9C98.9,32.3,95.7,35.5,92.2,38.2z"></path></svg></span>
          </a>
          <a class="u-social-url" target="_blank" href="https://www.instagram.com/cpbrd.me/"><span class="u-icon u-icon-circle u-social-instagram u-social-type-logo u-icon-3"><svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-33fb"></use></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" class="u-svg-content" viewBox="0 0 112 112" x="0px" y="0px" id="svg-33fb"><path d="M55.9,32.9c-12.8,0-23.2,10.4-23.2,23.2s10.4,23.2,23.2,23.2s23.2-10.4,23.2-23.2S68.7,32.9,55.9,32.9z M55.9,69.4c-7.4,0-13.3-6-13.3-13.3c-0.1-7.4,6-13.3,13.3-13.3s13.3,6,13.3,13.3C69.3,63.5,63.3,69.4,55.9,69.4z"></path><path d="M79.7,26.8c-3,0-5.4,2.5-5.4,5.4s2.5,5.4,5.4,5.4c3,0,5.4-2.5,5.4-5.4S82.7,26.8,79.7,26.8z"></path><path d="M78.2,11H33.5C21,11,10.8,21.3,10.8,33.7v44.7c0,12.6,10.2,22.8,22.7,22.8h44.7c12.6,0,22.7-10.2,22.7-22.7 V33.7C100.8,21.1,90.6,11,78.2,11z M91,78.4c0,7.1-5.8,12.8-12.8,12.8H33.5c-7.1,0-12.8-5.8-12.8-12.8V33.7 c0-7.1,5.8-12.8,12.8-12.8h44.7c7.1,0,12.8,5.8,12.8,12.8V78.4z"></path></svg></span>
          </a>
          <a class="u-social-url" target="_blank" href=""><span class="u-icon u-icon-circle u-social-linkedin u-social-type-logo u-icon-4"><svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 112 112" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-03ca"></use></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" xml:space="preserve" class="u-svg-content" viewBox="0 0 112 112" x="0px" y="0px" id="svg-03ca"><path d="M33.8,96.8H14.5v-58h19.3V96.8z M24.1,30.9L24.1,30.9c-6.6,0-10.8-4.5-10.8-10.1c0-5.8,4.3-10.1,10.9-10.1 S34.9,15,35.1,20.8C35.1,26.4,30.8,30.9,24.1,30.9z M103.3,96.8H84.1v-31c0-7.8-2.7-13.1-9.8-13.1c-5.3,0-8.5,3.6-9.9,7.1 c-0.6,1.3-0.6,3-0.6,4.8V97H44.5c0,0,0.3-52.6,0-58h19.3v8.2c2.6-3.9,7.2-9.6,17.4-9.6c12.7,0,22.2,8.4,22.2,26.1V96.8z"></path></svg></span>
          </a>
        </div>
        <img src="images/FSC-logo_R_500x200px1.png" alt="" class="u-image u-image-default u-image-1" data-image-width="132" data-image-height="154">
      </div></footer>
  </body>
</html>